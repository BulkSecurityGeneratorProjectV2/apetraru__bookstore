<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/templates/template.xhtml">
	<ui:define name="title">
		<title>#{detailsBean.customer.username}</title>
	</ui:define>
	<ui:define name="body">
		<p:tabView id="table">
			<p:tab title="Details">
				<h:form id="profileForm">
					<p:panelGrid>
						<p:row>
							<p:column styleClass="panel-column">
								<h:outputText value="Username" />
								<br />
								<p:inputText value="#{detailsBean.customer.username}" required="true" id="username"
									maxlength="200" />
								<p:message for="username" display="text" />
							</p:column>
							<p:column styleClass="panel-column">
								<h:outputLabel for="email" value="Email" />
								<br />
								<p:inputText value="#{detailsBean.customer.emailAddress}" required="true" id="email">
									<f:validator validatorId="emailValidator" />
								</p:inputText>
								<p:message for="email" display="text" />
							</p:column>
						</p:row>>
                    <p:row>
							<p:column styleClass="panel-column">
								<h:outputLabel for="firstname" value="First name" />
								<br />
								<p:inputText value="#{detailsBean.customer.firstname}" id="firstname" maxlength="200" />
							</p:column>
							<p:column styleClass="panel-column">
								<h:outputLabel for="lastname" value="Last name" />
								<br />
								<p:inputText value="#{detailsBean.customer.lastname}" id="lastname" maxlength="200" />
							</p:column>
						</p:row>
						<p:row>
							<p:column styleClass="panel-column">
								<h:outputLabel for="dateOfBirth" value="Date of Birth" />
								<br />
								<p:calendar value="#{detailsBean.customer.birthDate}" pattern="dd/MM/yyyy" yearRange="1900:"
									showButtonPanel="true" navigator="true" readonlyInput="true" id="dateOfBirth"
									maxdate="#{addBookBean.today}" />
							</p:column>
							<p:column styleClass="panel-column">
								<h:outputLabel for="address" value="Address" />
								<br />
								<p:inputText value="#{detailsBean.customer.address}" id="address" maxlength="200" />
							</p:column>
						</p:row>
						<p:row>
							<p:column styleClass="description-column" colspan="2">
								<p:commandButton value="Update" action="#{detailsBean.update}" id="updateButton"
									update="profileForm" />
								<p:message for="updateButton" display="text" />
							</p:column>
						</p:row>
					</p:panelGrid>
				</h:form>
			</p:tab>
			<p:tab title="Change Password">
				<h:form id="passwordForm">
					<p:panelGrid>
						<p:row>
							<p:column styleClass="panel-column">
								<h:outputText value="Old Password" />
								<br />
								<p:password value="#{passwordBean.oldPassword}" required="true" id="oldPassword"
									maxlength="200" feedback="true" />
								<p:message for="oldPassword" display="text" />
							</p:column>
						</p:row>
						<p:row>
							<p:column styleClass="panel-column">
								<h:outputText value="New Password" />
								<br />
								<p:password value="#{passwordBean.newPassword}" required="true" id="newPassword"
									maxlength="200" feedback="true" />
								<p:message for="newPassword" display="text" />
							</p:column>
						</p:row>
						<p:row>
							<p:column styleClass="description-column" colspan="2">
								<p:commandButton value="Change Password" action="#{passwordBean.update}" id="updateButton"
									update="passwordForm" />
								<p:message for="updateButton" display="text" />
							</p:column>
						</p:row>
					</p:panelGrid>
				</h:form>
			</p:tab>
		</p:tabView>
	</ui:define>
</ui:composition>
</html>
