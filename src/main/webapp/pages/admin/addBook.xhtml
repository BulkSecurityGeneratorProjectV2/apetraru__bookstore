<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">

<ui:composition template="/templates/template.xhtml">
    <ui:define name="title">
        <title>
            GoodBooks | Add book
        </title>
    </ui:define>
    <ui:define name="body">
        <h:form id="addBookFormId">
            <p:panel header="Add book" styleClass="addBook-panel">
                <p:panelGrid id="addBookPanelId">
                    <p:row>
                        <p:column styleClass="panel-column">
                            <h:outputText value="Title"/>
                            <br/>
                            <p:inputText value="#{addBookBean.book.title}" required="true" id="bookTitleId"
                                         maxlength="200"/>
                            <p:message for="bookTitleId" display="text"/>
                        </p:column>
                        <p:column styleClass="panel-column">
                            <h:outputText value="Author"/>
                            <br/>
                            <p:inputText value="#{addBookBean.author.name}" id="bookAuthorId" maxlength="200"/>
                            <p:message for="bookAuthorId" display="text"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column styleClass="panel-column">
                            <h:outputText value="ISBN-13"/>
                            <br/>
                            <p:inputMask value="#{addBookBean.book.isbn}" required="true" id="bookIsbnId"
                                         mask="9999999999999" placeHolder="x">
                                <f:validator validatorId="isbnValidator"/>
                            </p:inputMask>
                            <p:message for="bookIsbnId" display="text"/>
                        </p:column>
                        <p:column styleClass="panel-column">
                            <h:outputText value="Number of Pages"/>
                            <br/>
                            <p:inputText value="#{addBookBean.book.pages}" required="true" id="bookPagesId">
                                <f:validateLongRange minimum="0" maximum="20000"/>
                            </p:inputText>
                            <p:message for="bookPagesId" display="text"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column styleClass="panel-column">
                            <h:outputText value="Publish Date"/>
                            <br/>
                            <p:calendar value="#{addBookBean.book.publishDate}" pattern="dd/MM/yyyy" yearRange="1500:"
                                        showButtonPanel="true" navigator="true" readonlyInput="true"
                                        maxdate="#{addBookBean.today}"/>
                        </p:column>
                        <p:column styleClass="panel-column">
                            <h:outputText value="Language"/>
                            <br/>
                            <p:selectOneMenu value="#{addBookBean.book.language}" id="bookLanguageId"
                                             styleClass="selectonemenu-style">
                                <f:selectItems value="#{addBookBean.languages}"/>
                            </p:selectOneMenu>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column styleClass="description-column" colspan="2">
                            <h:outputText value="Description"/>
                            <br/>
                            <p:inputTextarea value="#{addBookBean.book.description}" id="bookDescriptionId"
                                             maxlength="32000"/>
                            <p:message for="bookDescriptionId" display="text"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column styleClass="description-column" colspan="3">
                            <h:outputText value="Book cover URL"/>
                            <br/>
                            <p:inputText value="#{addBookBean.book.imageUrl}" size="70"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column styleClass="description-column" colspan="2">
                            <p:commandButton value="Add Book" action="#{addBookBean.save}" update="addBookPanelId"
                                             id="addBookButtonId"/>
                            <p:spacer width="5%" height="1%"/>
                            <p:commandButton value="Reset" action="#{addBookBean.reset}" immediate="true"
                                             update="addBookPanelId"/>
                            <p:message for="addBookButtonId" display="text"/>
                        </p:column>
                    </p:row>
                </p:panelGrid>
            </p:panel>
        </h:form>
    </ui:define>
</ui:composition>
</html>
